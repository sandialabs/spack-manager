

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spack-Manager &mdash; Spack-Manager 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User Profiles" href="user_profiles/user_profiles.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            Spack-Manager
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="user_profiles/user_profiles.html">User Profiles</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="general/general.html">General Information</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="additional_commands/additional_commands.html">Additional Commands</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Spack-Manager</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Spack-Manager</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="spack-manager">
<h1>Spack-Manager<a class="headerlink" href="#spack-manager" title="Link to this heading"></a></h1>
<p><a class="reference external" href="https://github.com/sandialabs/spack-manager">Spack-Manager</a> is a light-weight extension to
<a class="reference external" href="https://github.com/spack/spack">Spack</a> that is intended to streamline the software development and deployment cycle
for software projects on specific machines.
A given software project typically has multiple configurations across many machines.
Spack-Manager is quite literal in its name, in that it provides a way to manage and organize these configurations
across multiple machines, and multiple projets.</p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/Spack-To-Applications.png"><img alt="_images/Spack-To-Applications.png" src="_images/Spack-To-Applications.png" style="width: 75%;" />
</a>
<figcaption>
<p><span class="caption-number">1 </span><span class="caption-text">Spack is serving the package management needs of thousands of software packages.
However, individual application teams wish to harness the power of Spack for their individual applications specific needs.
This naturally leads to redundant, similar workflows.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The intent of this project is to maintain as thin of a buffer as possible between software packages and Spack, and to be pushing ideas and workflow
improvements back to Spack on a regular basis to reduce the code that is maintained here.
As such we do not try to fully mask Spack’s workflow or commands from users, but rather expose them at a level appropriate for the user type.</p>
<section id="user-profiles">
<h2>User Profiles<a class="headerlink" href="#user-profiles" title="Link to this heading"></a></h2>
<p>Spack-Manager’s design is intended to serve three separate user types in a software project, and the level of expected spack exposure/knowledge required
decreases as the user becomes further removed from the build process.  The three user profiles are:</p>
<ul class="simple">
<li><p>System administrators (Spack is heavily exposed and relied on)</p></li>
<li><p>Code developers (some basics about Spack are required, but much of the workflow can be scripted away)</p></li>
<li><p>Analysts (zero exposure to Spack)</p></li>
</ul>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="_images/ProfilePyramids.png"><img alt="_images/ProfilePyramids.png" src="_images/ProfilePyramids.png" style="width: 70%;" />
</a>
<figcaption>
<p><span class="caption-number">2 </span><span class="caption-text">Population size of each profile is inverserly proportional to the Spack knowledge required for their roles</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Separate documentation exists for each of these user profiles.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="user_profiles/user_profiles.html">User Profiles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_profiles/analysts/analysts.html">Analysts Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_profiles/developers/developers.html">Developer Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_profiles/developers/developer_spack_minimum.html">Developers: What you need to know about Spack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/developer_spack_minimum.html#querying-the-spack-commands">Querying the Spack commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/developer_spack_minimum.html#reading-and-writing-spack-specs">Reading and writing Spack specs</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/developer_spack_minimum.html#major-steps-of-the-spack-build-process">Major steps of the Spack build process</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user_profiles/developers/developer_workflow.html">Quick-Start: Developer Workflow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/developer_workflow.html#setup-spack-manager">Setup Spack-Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/developer_workflow.html#creating-an-environment">Creating an Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/developer_workflow.html#building-and-making-code-changes">Building and Making Code Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/developer_workflow.html#running-tests-and-coming-back">Running Tests and Coming Back</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/developer_workflow.html#quick-start">Quick Start</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user_profiles/developers/useful_commands.html">Useful Commands for Development</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/useful_commands.html#environment-setup-process">Environment setup process</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/useful_commands.html#environment-loading-process">Environment loading process</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/useful_commands.html#environment-setup-commands">Environment setup commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/useful_commands.html#environment-re-use-commands">Environment re-use commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/useful_commands.html#other-commands">Other Commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user_profiles/developers/advanced_topics.html">Advanced Topics for Developers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/advanced_topics.html#handling-multiple-environments">Handling Multiple Environments</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/advanced_topics.html#cleaning-up-old-environments">Cleaning Up Old Environments</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/advanced_topics.html#modifying-specs-in-an-environment">Modifying Specs in an Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/advanced_topics.html#debugging-spack-errors">Debugging Spack Errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/advanced_topics.html#when-and-how-to-use-multiple-instances-of-spack-manager">When and How to Use Multiple Instances of Spack-Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/advanced_topics.html#strategies-for-conserving-disk-space">Strategies for Conserving Disk Space</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/advanced_topics.html#constructing-and-utilizing-multiple-builds">Constructing and Utilizing Multiple builds</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user_profiles/developers/snapshot_workflow.html">Snapshot Developer Workflow Example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/snapshot_workflow.html#setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/snapshot_workflow.html#building">Building</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/snapshot_workflow.html#editing-code">Editing Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/snapshot_workflow.html#running">Running</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/developers/snapshot_workflow.html#iterating">Iterating</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_profiles/system_admins/system_admins.html">System Administrator Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_profiles/system_admins/creating_a_project.html">Creating and configuring a Spack-Manager Project</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/system_admins/creating_a_project.html#creating-a-project-from-scratch">Creating a Project from Scratch</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/system_admins/creating_a_project.html#populating-machine-specific-configurations">Populating Machine Specific Configurations</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/system_admins/creating_a_project.html#configuring-machine-auto-detection">Configuring Machine Auto-detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/system_admins/creating_a_project.html#setting-up-spack-package-repositories">Setting up Spack Package Repositories</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_profiles/system_admins/creating_a_project.html#adding-version-control">Adding Version Control</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="benefits-of-spack-manager">
<h2>Benefits of Spack-Manager<a class="headerlink" href="#benefits-of-spack-manager" title="Link to this heading"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>Spack-Manager allows additional agility and coordination at the project level that can not be maintained for a larger tool/database such as Spack.</dt><dd><p>This is done through heavy use of custom Spack <a class="reference external" href="https://spack.readthedocs.io/en/latest/repositories.html">package repositories</a> and
Spack’s <a class="reference external" href="https://spack.readthedocs.io/en/latest/extensions.html">custom extensions</a> to allow for prototyping at the project level, as well as the option to
maintain features that are only intended for the project’s development team.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Spack-Manager maximizes overlap between the workflows of the three user profiles.</dt><dd><p>The main thought behind Spack-Manager is that the exact same infrastructure that the system administrators use to deploy binaries and modules on various machines
can be recycled to run nightly tests, generate time stamped snapshots of binaries for developers to link against, and supply end users
with production executables.
This framework is stitched together through Spack, but the end products (binaries and modules) are designed to be as independent from Spack as possible.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Spack-Manager provides the benefits of Spack by seeking to maintain as small of a wrapper layer as possible. Some of these benefits include:</dt><dd><ul>
<li><p>Build reproducibiilty, and scalability</p></li>
<li><p>Buy-in and feedback from HPC vendors and software developers over thousands of projects</p></li>
<li><p>Support options, extended documentation and testing through the much larger Spack project</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Additional details about the philosophy, and general knowledge can be found in the following documentation section.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="general/general.html">General Information</a><ul>
<li class="toctree-l2"><a class="reference internal" href="general/spack_manager_structure.html">Spack-Manager Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/spack_features.html">Important Spack Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="general/spack_features.html#spack-specs">Spack Specs</a></li>
<li class="toctree-l3"><a class="reference internal" href="general/spack_features.html#spack-commands">Spack Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="general/spack_features.html#spack-knowledgebase">Spack Knowledgebase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="general/history.html">History and inspirations for Spack-Manager</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="additional-commands">
<h2>Additional Commands<a class="headerlink" href="#additional-commands" title="Link to this heading"></a></h2>
<p>In addition to Spack-Manager’s core capabilities, Spack-Manager also provides a set of additional capabilities. Those capabilities are documented in the following section.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="additional_commands/additional_commands.html">Additional Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="additional_commands/distribution/distribution.html">Distribution Command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="additional_commands/distribution/distribution.html#modifying-the-generated-spack-envrionment">Modifying the generated Spack envrionment</a></li>
<li class="toctree-l3"><a class="reference internal" href="additional_commands/distribution/distribution.html#using-the-resultant-pacakge">Using the resultant pacakge</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="user_profiles/user_profiles.html" class="btn btn-neutral float-right" title="User Profiles" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>