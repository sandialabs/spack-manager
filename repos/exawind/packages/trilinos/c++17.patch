From 025019d18ab4f810b0c55e954e6dd5ab2e9fd17b Mon Sep 17 00:00:00 2001
From: psakiev <psakiev@sandia.gov>
Date: Fri, 19 Nov 2021 14:12:04 -0700
Subject: [PATCH 1/3] MueLu: fix cpp17 build issue

---
 .../muelu/src/Interface/MueLu_ML2MueLuParameterTranslator.hpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/packages/muelu/src/Interface/MueLu_ML2MueLuParameterTranslator.hpp b/packages/muelu/src/Interface/MueLu_ML2MueLuParameterTranslator.hpp
index c606d5e3fb7..34697f6fd4e 100644
--- a/packages/muelu/src/Interface/MueLu_ML2MueLuParameterTranslator.hpp
+++ b/packages/muelu/src/Interface/MueLu_ML2MueLuParameterTranslator.hpp
@@ -128,13 +128,13 @@ namespace MueLu {
 
     // trim from start
     static inline std::string &ltrim(std::string &s) {
-      s.erase(s.begin(), std::find_if(s.begin(), s.end(), std::not1(std::ptr_fun<int, int>(std::isspace))));
+      s.erase(s.begin(), std::find_if(s.begin(), s.end(), [](int c){return !std::isspace(c);}));
       return s;
     }
 
     // trim from end
     static inline std::string &rtrim(std::string &s) {
-      s.erase(std::find_if(s.rbegin(), s.rend(), std::not1(std::ptr_fun<int, int>(std::isspace))).base(), s.end());
+      s.erase(std::find_if(s.rbegin(), s.rend(), [](int c){return !std::isspace(c);}).base(), s.end());
       return s;
     }
 
-- 
2.24.3 (Apple Git-128)

From 285bbae1720f2cb4379e43ed338dbd2a23bf8ea6 Mon Sep 17 00:00:00 2001
From: psakiev <psakiev@sandia.gov>
Date: Fri, 19 Nov 2021 14:45:08 -0700
Subject: [PATCH 2/3] Tpetra: c++17 fix

---
 packages/tpetra/core/src/Tpetra_Import_def.hpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/packages/tpetra/core/src/Tpetra_Import_def.hpp b/packages/tpetra/core/src/Tpetra_Import_def.hpp
index 29f3caab3ee..1aa3a879883 100644
--- a/packages/tpetra/core/src/Tpetra_Import_def.hpp
+++ b/packages/tpetra/core/src/Tpetra_Import_def.hpp
@@ -1177,7 +1177,7 @@ namespace Tpetra {
 
       const size_type numInvalidRemote =
         std::count_if (remoteProcIDs.begin (), remoteProcIDs.end (),
-                       std::bind1st (std::equal_to<int> (), -1));
+                       std::bind (std::equal_to<int> (), -1, std::placeholders::_1));
       TEUCHOS_TEST_FOR_EXCEPTION_CLASS_FUNC
         (numInvalidRemote == 0, std::logic_error, "Calling getRemoteIndexList "
          "on the source Map returned IDNotPresent, but none of the returned "
-- 
2.24.3 (Apple Git-128)

From 92c5ac112b1c63b7fcac5845e15ea27eca68c2c9 Mon Sep 17 00:00:00 2001
From: psakiev <psakiev@sandia.gov>
Date: Fri, 19 Nov 2021 14:46:12 -0700
Subject: [PATCH 3/3] SEACAS: fix for one of the c++17 builds I'm doing

---
 packages/seacas/applications/ejoin/EJ_SystemInterface.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/packages/seacas/applications/ejoin/EJ_SystemInterface.h b/packages/seacas/applications/ejoin/EJ_SystemInterface.h
index 8c138e6b7c4..3ecca20b1ea 100644
--- a/packages/seacas/applications/ejoin/EJ_SystemInterface.h
+++ b/packages/seacas/applications/ejoin/EJ_SystemInterface.h
@@ -98,7 +98,7 @@ private:
   bool zlib_{true};
   bool szip_{false};
 
-  std::string blockPrefix_{std::string("p")};
+  std::string blockPrefix_{"p"};
 
   vector3d offset_;
   double   tolerance_{0.0};
-- 
2.24.3 (Apple Git-128)

